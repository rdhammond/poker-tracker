(function(){"use strict";angular.module("app",[]).run(function(){$(function(){var n=new Foundation.Reveal($("#dlgFinish")),t=new Foundation.Reveal($("#dlgCancel"))})})})(),function(){"use strict";var n="http://localhost:53468/PokerTrackerService.svc/";angular.module("app").constant("urlActions",{getCardRooms:n+"CardRooms",getGameTypes:n+"GameTypes",saveSession:n+"Session"})}(),function(){"use strict";function n(){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"views/zf-dialog.html"}}angular.module("app").directive("zfDialog",n)}(),function(){"use strict";function n(n,t){function i(){return n.get(t.getCardRooms).then(function(n){return n.data})}return{get:i}}angular.module("app").service("cardRooms",n);n.$inject=["$http","urlActions"]}(),function(){"use strict";function n(n,t){function i(){return n.get(t.getGameTypes).then(function(n){return n.data})}return{get:i}}angular.module("app").service("gameTypes",n);n.$inject=["$http","urlActions"]}(),function(){"use strict";function n(){function n(n){return"/Date("+n.getTime()+"+0000)/"}return{from:n}}angular.module("app").service("msDate",n)}(),function(){"use strict";function n(n,t){function i(i){return n.post(t.saveSession,i)}return{save:i}}angular.module("app").service("session",n);n.$inject=["$http","urlActions"]}(),function(){"use strict";function n(n,t,i,r,u){function o(){f.session.StartTime=u.from(new Date);f.isShown=!1;n.$emit("sessionStarted",{StartingStackSize:f.StartingStackSize})}function s(){return f.session.EndTime=u.from(new Date),r.save(f.session).then(function(){e();f.isShown=!0;n.$emit("sessionSaved")})}function h(){e();f.isShown=!0;n.$emit("sessionCanceled")}function c(n,t){f.session.TimeEntries=f.session.TimeEntries||[];f.session.TimeEntries.push(t)}function l(){t.get().then(function(n){f.cardRooms=n});i.get().then(function(n){f.gameTypes=n})}function e(){f.session={};delete f.StartingStackSize}var f=this;f.isShown=!0;f.session={};f.startSession=o;f.saveSession=s;f.cancelSession=h;n.$on("addTimeEntry",c);l()}angular.module("app").controller("SessionController",n);n.$inject=["$rootScope","cardRooms","gameTypes","session","msDate"]}(),function(){"use strict";function n(n,t){function u(){i.timeEntry.RecordedAt=t.from(new Date);n.$emit("addTimeEntry",i.timeEntry);i.timeEntry={}}function f(r,u){n.$emit("addTimeEntry",{RecordedAt:t.from(new Date),StackSize:u.StartingStackSize,DealerTokes:0,ServerTips:0});i.isShown=!0}function r(){i.timeEntry={};i.isShown=!1}function e(){$("#dlgFinish").foundation("open")}function o(){$("#dlgCancel").foundation("open")}var i=this;i.isShown=!1;i.timeEntry={};i.addTimeEntry=u;i.openFinishDialog=e;i.openCancelDialog=o;n.$on("sessionStarted",f);n.$on("sessionFinished",r);n.$on("sessionCanceled",r);n.$on("sessionSaved",function(){i.isShown=!1})}angular.module("app").controller("TimeEntriesController",n);n.$inject=["$rootScope","msDate"]}();